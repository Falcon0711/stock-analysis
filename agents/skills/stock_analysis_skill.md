# è‚¡ç¥¨æŠ€æœ¯åˆ†ææŠ€èƒ½ (Stock Analysis Skill)

## æè¿°
æä¾›æ ‡å‡†åŒ–çš„ä¸ªè‚¡æŠ€æœ¯åˆ†ææŠ¥å‘Šï¼Œä½¿ç”¨ç»Ÿä¸€çš„æ¨¡æ¿å’Œè®¡ç®—æ–¹æ³•ï¼Œç¡®ä¿åˆ†æç»“æœçš„ä¸€è‡´æ€§å’Œä¸“ä¸šæ€§ã€‚

## åŠŸèƒ½ç‰¹æ€§

### 1. æŠ€æœ¯æŒ‡æ ‡è®¡ç®—
- **KDJæŒ‡æ ‡**: éšæœºæŒ‡æ ‡ï¼ŒåŒ…å«Kã€Dã€Jä¸‰æ¡çº¿
- **MACDæŒ‡æ ‡**: æŒ‡æ•°å¹³æ»‘å¼‚åŒç§»åŠ¨å¹³å‡çº¿
- **BBIæŒ‡æ ‡**: å¤šç©ºæŒ‡æ ‡ (ç”±MA3ã€MA6ã€MA12ã€MA24å¹³å‡è®¡ç®—)
- **ç§»åŠ¨å¹³å‡çº¿**: MA5ã€MA10ã€MA20ã€MA60
- **çŸ¥è¡ŒæŒ‡æ ‡**: è¶‹åŠ¿çº¿å’Œå¤šç©ºçº¿

### 2. AIç»¼åˆåˆ†æ
- **AIåˆ†æ**: åŸºäºæŠ€æœ¯æŒ‡æ ‡çš„AIç»¼åˆåˆ†æ
- **è¶‹åŠ¿é¢„æµ‹**: çŸ­æœŸå’Œä¸­æœŸè¶‹åŠ¿é¢„æµ‹
- **æ“ä½œå»ºè®®**: æ™ºèƒ½æ“ä½œå»ºè®®

### 2. æ™ºèƒ½åˆ†æ
- **ä¹°å–ä¿¡å·**: åŸºäºå¤šä¸ªæŠ€æœ¯æŒ‡æ ‡çš„ç»¼åˆåˆ¤æ–­
- **é£é™©ç­‰çº§**: æ ¹æ®æŠ€æœ¯æŒ‡æ ‡å’Œæ¶¨è·Œå¹…è¯„ä¼°
- **æ”¯æ’‘é˜»åŠ›**: æ ¹æ®è‚¡ç¥¨å½“å‰è¡¨ç°æ™ºèƒ½åˆ¤æ–­

### 3. æ ‡å‡†åŒ–æŠ¥å‘Š
- ç»Ÿä¸€çš„æŠ¥å‘Šæ ¼å¼å’Œå¸ƒå±€
- è¡¨æƒ…ç¬¦å·ç›´è§‚æ˜¾ç¤ºçŠ¶æ€
- ç´§å‡‘çš„ä¿¡æ¯å±•ç¤º

## æ•°æ®æº
- **å†å²æ•°æ®**: ä½¿ç”¨120å¤©å†å²æ•°æ®è¿›è¡ŒæŠ€æœ¯æŒ‡æ ‡è®¡ç®—
- **å®æ—¶æ•°æ®**: è…¾è®¯è´¢ç»API

## æŠ¥å‘Šæ¨¡æ¿

```
=================================================================
              [è‚¡ç¥¨åç§°]([è‚¡ç¥¨ä»£ç ]) æŠ€æœ¯åˆ†ææŠ¥å‘Š
=================================================================
ğŸ“ˆ åŸºæœ¬ä¿¡æ¯: [è‚¡ç¥¨åç§°] | [è‚¡ç¥¨ä»£ç ]
ğŸ’° å½“å‰ä»·æ ¼: [å½“å‰ä»·æ ¼]å…ƒ | æ¶¨è·Œ: [æ¶¨è·Œé¢] | æ¶¨å¹…: [æ¶¨è·Œå¹…]%

ğŸ“Š æŠ€æœ¯æŒ‡æ ‡æ¦‚è§ˆ:
  KDJ: K=[Kå€¼], D=[Då€¼], J=[Jå€¼] | ä¿¡å·: [é‡‘å‰/æ­»å‰ç¬¦å·]
  MACD: [MACDå€¼], [ä¿¡å·çº¿å€¼], [æŸ±çŠ¶å›¾å€¼] | ä¿¡å·: [å¤šå¤´/ç©ºå¤´ç¬¦å·]
  BBI: [BBIå€¼] | ä½ç½®: [ä¸Šæ–¹/ä¸‹æ–¹]
  MA5/10/20/60: [MA5å€¼]/[MA10å€¼]/[MA20å€¼]/[MA60å€¼]
  çŸ¥è¡ŒæŒ‡æ ‡: è¶‹åŠ¿çº¿=[è¶‹åŠ¿çº¿å€¼] | ä½ç½®: [ä¸Šæ–¹/ä¸‹æ–¹], å¤šç©ºçº¿=[å¤šç©ºçº¿å€¼] | ä½ç½®: [ä¸Šæ–¹/ä¸‹æ–¹]

ğŸ›¡ï¸ æ”¯æ’‘é˜»åŠ›:
  è¿‘æœŸæ”¯æ’‘: [æ”¯æ’‘ä½]=[æ”¯æ’‘å€¼] | è¿‘æœŸé˜»åŠ›: [é˜»åŠ›ä½]=[é˜»åŠ›å€¼]

ğŸ¯ ç»¼åˆä¿¡å·:
  ä¹°å–å»ºè®®: [ä¹°å…¥/å–å‡º/è§‚æœ›ç¬¦å·]
  é£é™©ç­‰çº§: [é«˜/ä¸­/ä½ç¬¦å·]

=================================================================
ğŸ’¡ æç¤º: [æ€»ç»“æ€§å»ºè®®]
=================================================================
```

## æ”¯æ’‘é˜»åŠ›åˆ¤æ–­è§„åˆ™

### è·Œå¹…è¾ƒå¤§è‚¡ç¥¨ (è·Œå¹…>5%)
- **æ”¯æ’‘**: MA20 æˆ– MA10
- **é˜»åŠ›**: å¼€ç›˜ä»· æˆ– å‰æ—¥æ”¶ç›˜ä»·

### æ¶¨å¹…è¾ƒå¤§è‚¡ç¥¨ (æ¶¨å¹…>5%)
- **æ”¯æ’‘**: MA5 æˆ– MA10
- **é˜»åŠ›**: MA5 æˆ– å½“æ—¥æœ€é«˜ä»·

### éœ‡è¡è‚¡ç¥¨ (æ¶¨è·Œå¹…â‰¤5%)
- **æ”¯æ’‘**: MA20 æˆ– å‰æœŸä½ç‚¹
- **é˜»åŠ›**: MA10 æˆ– å‰æœŸé«˜ç‚¹

## ä½¿ç”¨æ–¹æ³•

### åˆ†æå•åªè‚¡ç¥¨
```python
from skills.stock_analysis_skill import get_stock_analysis

report = get_stock_analysis('600916')
print(report)
```

### åˆ†æå•åªè‚¡ç¥¨ï¼ˆå«AIåˆ†æï¼‰
```python
from skills.stock_analysis_skill import get_stock_analysis_with_ai

report = get_stock_analysis_with_ai('600916')
print(report)
```

### æ‰¹é‡åˆ†æå¤šåªè‚¡ç¥¨
```python
from skills.stock_analysis_skill import get_multiple_stock_analysis

reports = get_multiple_stock_analysis(['600916', '601288'])
for code, report in reports.items():
    print(report)
```

### æ‰¹é‡åˆ†æå¤šåªè‚¡ç¥¨ï¼ˆå«AIåˆ†æï¼‰
```python
from skills.stock_analysis_skill import get_multiple_stock_analysis_with_ai

reports = get_multiple_stock_analysis_with_ai(['600916', '601288'])
for code, report in reports.items():
    print(report)
```

## DeepSeek APIé…ç½®

è¦å¯ç”¨AIç»¼åˆåˆ†æåŠŸèƒ½ï¼Œéœ€è¦é…ç½®DeepSeek APIå¯†é’¥ï¼š

```bash
export DEEPSEEK_API_KEY="your_deepseek_api_key_here"
```

æˆ–è€…åœ¨å¯åŠ¨ç¨‹åºå‰è®¾ç½®ç¯å¢ƒå˜é‡ã€‚

## ç±»æ–¹æ³•
- `StockAnalysisSkill().analyze_stock(stock_code)`: åˆ†æå•åªè‚¡ç¥¨
- `StockAnalysisSkill().analyze_multiple_stocks(stock_codes)`: æ‰¹é‡åˆ†æå¤šåªè‚¡ç¥¨

## ä¾èµ–
- pandas
- src.core.technical_indicators
- tencent_data_source