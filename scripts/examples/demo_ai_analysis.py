#!/usr/bin/env python3
"""
æ¼”ç¤ºå¦‚ä½•å åŠ AIåˆ†æåˆ°æŠ€æœ¯åˆ†ææŠ¥å‘Šä¸­
æ­¤è„šæœ¬å±•ç¤ºAIåˆ†æçš„ç»“æ„ï¼Œä½†ä¸å®é™…è°ƒç”¨API
"""

from skills.stock_analysis_skill import get_stock_analysis

def demo_ai_analysis_structure():
    """æ¼”ç¤ºAIåˆ†æåº”è¯¥å¦‚ä½•é›†æˆåˆ°æŠ¥å‘Šä¸­"""
    
    # è·å–åŸºæœ¬æŠ€æœ¯åˆ†æ
    basic_report = get_stock_analysis('600916')
    
    # æ¨¡æ‹ŸAIåˆ†æå†…å®¹ï¼ˆå®é™…åº”ç”¨ä¸­è¿™é‡Œä¼šè°ƒç”¨AI APIï¼‰
    ai_analysis_content = """æŠ€æœ¯é¢åˆ†æï¼š
- å½“å‰è‚¡ä»·å¤„äºå¼ºåŠ¿ä¸‹è·ŒçŠ¶æ€ï¼Œè·Œå¹…è¾¾10.01%
- KDJæŒ‡æ ‡æ˜¾ç¤ºæ­»å‰çŠ¶æ€ï¼ŒçŸ­æœŸè¶‹åŠ¿åå¼±
- MACDæŒ‡æ ‡ä»å¤„å¤šå¤´åŒºåŸŸï¼Œä½†åŠ¨èƒ½å‡å¼±
- BBIæŒ‡æ ‡æ˜¾ç¤ºè‚¡ä»·åœ¨å¤šå¤´çº¿ä¸Šæ–¹ï¼Œä¸­æœŸè¶‹åŠ¿ä»åå¤š

çŸ­æœŸè¶‹åŠ¿é¢„æµ‹ï¼š
- æœªæ¥1-3ä¸ªäº¤æ˜“æ—¥é¢„è®¡ç»§ç»­éœ‡è¡è°ƒæ•´
- éœ€å…³æ³¨MA5å‡çº¿12.96å…ƒé™„è¿‘çš„æ”¯æ’‘åŠ›åº¦

æ“ä½œå»ºè®®ï¼š
- çŸ­æœŸå»ºè®®è§‚æœ›ï¼Œç­‰å¾…ä¼ç¨³ä¿¡å·
- è‹¥è·Œç ´MA20æ”¯æ’‘ä½9.57å…ƒï¼Œå¯è€ƒè™‘å‡ä»“

é£é™©æç¤ºï¼š
- è¿‘æœŸæ³¢åŠ¨è¾ƒå¤§ï¼Œæ³¨æ„æ§åˆ¶ä»“ä½
- å…³æ³¨å¸‚åœºæ•´ä½“æƒ…ç»ªå˜åŒ–"""
    
    # å°†AIåˆ†ææ’å…¥åˆ°åŸºæœ¬æŠ¥å‘Šä¸­
    lines = basic_report.split('\n')
    if len(lines) > 2:
        # åœ¨æœ€åä¸¤è¡Œï¼ˆåˆ†éš”çº¿å’Œæç¤ºï¼‰ä¹‹å‰æ’å…¥AIåˆ†æ
        final_lines = lines[:-2]  # é™¤å»æœ€åä¸¤è¡Œ
        final_lines.append("\nğŸ¤– AIç»¼åˆåˆ†æ:")
        final_lines.append(ai_analysis_content)
        final_lines.extend(lines[-2:])  # é‡æ–°æ·»åŠ æœ€åä¸¤è¡Œ
        
        return '\n'.join(final_lines)
    else:
        return basic_report

if __name__ == "__main__":
    print("ğŸ“Š å¸¦AIåˆ†ææ¡†æ¶çš„ä¸­å›½é»„é‡‘(600916) æŠ€æœ¯åˆ†ææŠ¥å‘Š:")
    print()
    report = demo_ai_analysis_structure()
    print(report)
    print()
    print("ğŸ’¡ è¯´æ˜ï¼šæ­¤ä¸ºAIåˆ†ææ¡†æ¶æ¼”ç¤ºã€‚å®é™…ä½¿ç”¨æ—¶ï¼Œéœ€è¦é…ç½®DeepSeek APIå¯†é’¥")
    print("   åœ¨ config.py ä¸­è®¾ç½® DEEPSEEK_API_KEY åï¼ŒAIåˆ†æå°†è‡ªåŠ¨å¯ç”¨")