# è‚¡ç¥¨æŠ€æœ¯åˆ†æžé¡¹ç›®å®Œæ•´æ¡†æž¶

## ðŸ“‹ é¡¹ç›®æ¦‚è¿°
è¿™æ˜¯ä¸€ä¸ªåŸºäºŽPythonçš„è‚¡ç¥¨æŠ€æœ¯åˆ†æžç³»ç»Ÿï¼Œæä¾›æ ‡å‡†åŒ–çš„ä¸ªè‚¡æŠ€æœ¯åˆ†æžæŠ¥å‘Šï¼Œå¹¶é›†æˆäº†AIå¢žå¼ºåˆ†æžåŠŸèƒ½ã€‚

## ðŸ—ï¸ ç›®å½•ç»“æž„
```
daily_stock_analysis/
â”œâ”€â”€ main.py                      # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ tencent_data_source.py      # è…¾è®¯è´¢ç»æ•°æ®æºæŽ¥å£
â”œâ”€â”€ CURRENT_TEMPLATE.md         # å½“å‰ä½¿ç”¨æ¨¡æ¿ï¼ˆBBIæ›¿ä»£RSIï¼‰
â”œâ”€â”€ PROJECT_ARCHITECTURE.md     # é¡¹ç›®æž¶æž„æ–‡æ¡£
â”œâ”€â”€ TECHNICAL_INDICATORS.md     # æŠ€æœ¯æŒ‡æ ‡è¯´æ˜Žæ–‡æ¡£
â”œâ”€â”€ demo_ai_analysis.py         # AIåˆ†æžæ¼”ç¤ºè„šæœ¬
â”œâ”€â”€ skills/                     # æŠ€èƒ½æ¨¡å—ç›®å½•
â”‚   â”œâ”€â”€ stock_analysis_skill.py # è‚¡ç¥¨åˆ†æžæŠ€èƒ½ï¼ˆä¸»è¦æŽ¥å£ï¼‰
â”‚   â”œâ”€â”€ stock_analysis_skill.md # æŠ€èƒ½è¯´æ˜Žæ–‡æ¡£
â”‚   â”œâ”€â”€ project_check_skill.py  # é¡¹ç›®æ£€æŸ¥æŠ€èƒ½
â”‚   â””â”€â”€ project_check_skill.md  # é¡¹ç›®æ£€æŸ¥æŠ€èƒ½è¯´æ˜Ž
â””â”€â”€ src/                        # æ ¸å¿ƒæºä»£ç ç›®å½•
    â”œâ”€â”€ analyzer.py            # åˆ†æžå™¨å…¼å®¹å±‚
    â”œâ”€â”€ search_service.py      # æœç´¢æœåŠ¡
    â”œâ”€â”€ config/                # é…ç½®ç®¡ç†æ¨¡å—
    â”‚   â””â”€â”€ __init__.py        # é…ç½®åˆå§‹åŒ–
    â”œâ”€â”€ core/                  # æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
    â”‚   â”œâ”€â”€ analyzer.py        # AIåˆ†æžå™¨æ ¸å¿ƒï¼ˆåŒ…å«Gemini/OpenAI/DeepSeekæ”¯æŒï¼‰
    â”‚   â”œâ”€â”€ technical_indicators.py # æŠ€æœ¯æŒ‡æ ‡è®¡ç®—
    â”‚   â”œâ”€â”€ market_review.py   # å¸‚åœºå›žé¡¾åŠŸèƒ½
    â”‚   â””â”€â”€ pipeline.py        # æ•°æ®å¤„ç†ç®¡é“
    â””â”€â”€ notification/          # é€šçŸ¥æ¨¡å—
        â””â”€â”€ __init__.py
```

## ðŸ”§ æ ¸å¿ƒæ¨¡å—åŠŸèƒ½

### 1. æ•°æ®æºæ¨¡å—
**æ–‡ä»¶**: `tencent_data_source.py`
- æä¾›è…¾è®¯è´¢ç»APIçš„æ•°æ®è®¿é—®
- å®žæ—¶æ•°æ®èŽ·å–ï¼ˆä»·æ ¼ã€æ¶¨è·Œå¹…ç­‰ï¼‰
- åŽ†å²Kçº¿æ•°æ®èŽ·å–ï¼ˆæ”¯æŒ120å¤©åŽ†å²ï¼‰
- å¤šè‚¡ç¥¨æ‰¹é‡æŸ¥è¯¢

### 2. æŠ€æœ¯æŒ‡æ ‡è®¡ç®—æ¨¡å—
**æ–‡ä»¶**: `src/core/technical_indicators.py`
- KDJæŒ‡æ ‡è®¡ç®—ï¼ˆéšæœºæŒ‡æ ‡ï¼‰
- MACDæŒ‡æ ‡è®¡ç®—ï¼ˆæŒ‡æ•°å¹³æ»‘å¼‚åŒç§»åŠ¨å¹³å‡çº¿ï¼‰
- BBIæŒ‡æ ‡è®¡ç®—ï¼ˆå¤šç©ºæŒ‡æ ‡ï¼Œæ›¿ä»£RSIï¼‰
- ç§»åŠ¨å¹³å‡çº¿ï¼ˆMA5/MA10/MA20/MA60ç­‰ï¼‰
- çŸ¥è¡Œè¶‹åŠ¿çº¿å’Œå¤šç©ºçº¿è®¡ç®—
- ç»¼åˆä¹°å–ä¿¡å·ç”Ÿæˆ

### 3. AIåˆ†æžå™¨æ¨¡å—
**æ–‡ä»¶**: `src/core/analyzer.py`
- GeminiAnalyzer: Google Geminiæ”¯æŒ
- OpenAICompatibleAnalyzer: OpenAIå…¼å®¹APIæ”¯æŒ
- DeepSeekAnalyzer: DeepSeek APIæ”¯æŒ
- AIAnalyzer: ç»Ÿä¸€AIåˆ†æžå…¥å£
- CombinedAnalyzer: ç»„åˆåˆ†æžå™¨
- åŒ…å«BBIæŒ‡æ ‡åˆ†æžï¼ˆæ›¿ä»£RSIï¼‰

### 4. è‚¡ç¥¨åˆ†æžæŠ€èƒ½æ¨¡å—
**æ–‡ä»¶**: `skills/stock_analysis_skill.py`
- æ ‡å‡†æŠ€æœ¯åˆ†æžæŠ¥å‘Šç”Ÿæˆ
- AIå¢žå¼ºåˆ†æžæŠ¥å‘Šç”Ÿæˆ
- æ‰¹é‡è‚¡ç¥¨åˆ†æžæ”¯æŒ
- æ ‡å‡†åŒ–æŠ¥å‘Šæ ¼å¼ï¼ˆä½¿ç”¨BBIæ›¿ä»£RSIï¼‰
- ä¹°å–å»ºè®®å’Œé£Žé™©ç­‰çº§è®¡ç®—

### 5. é…ç½®ç®¡ç†æ¨¡å—
**æ–‡ä»¶**: `src/config/__init__.py`
- APIå¯†é’¥ç®¡ç†ï¼ˆGemini/OpenAI/DeepSeekï¼‰
- æ¨¡åž‹å‚æ•°é…ç½®
- æœåŠ¡ç«¯ç‚¹é…ç½®
- çŽ¯å¢ƒå˜é‡åŠ è½½

## ðŸ“Š åŠŸèƒ½ç‰¹æ€§

### 1. æ ‡å‡†æŠ€æœ¯åˆ†æž
- **å‡½æ•°**: `get_stock_analysis(stock_code)`
- **è¾“å‡ºæ ¼å¼**:
  ```
  =================================================================
                [è‚¡ç¥¨åç§°]([è‚¡ç¥¨ä»£ç ]) æŠ€æœ¯åˆ†æžæŠ¥å‘Š
  =================================================================
  ðŸ“ˆ åŸºæœ¬ä¿¡æ¯: [è‚¡ç¥¨åç§°] | [è‚¡ç¥¨ä»£ç ]
  ðŸ’° å½“å‰ä»·æ ¼: [å½“å‰ä»·æ ¼]å…ƒ | æ¶¨è·Œ: [æ¶¨è·Œé¢] | æ¶¨å¹…: [æ¶¨è·Œå¹…]%
  
  ðŸ“Š æŠ€æœ¯æŒ‡æ ‡æ¦‚è§ˆ:
    KDJ: K=[Kå€¼], D=[Då€¼], J=[Jå€¼] | ä¿¡å·: [é‡‘å‰/æ­»å‰ç¬¦å·]
    MACD: [MACDå€¼], [ä¿¡å·çº¿å€¼], [æŸ±çŠ¶å›¾å€¼] | ä¿¡å·: [å¤šå¤´/ç©ºå¤´ç¬¦å·]
    BBI: [BBIå€¼] | ä½ç½®: [ä¸Šæ–¹/ä¸‹æ–¹]
    MA5/10/20/60: [MA5å€¼]/[MA10å€¼]/[MA20å€¼]/[MA60å€¼]
    çŸ¥è¡ŒæŒ‡æ ‡: è¶‹åŠ¿çº¿=[è¶‹åŠ¿çº¿å€¼] | ä½ç½®: [ä¸Šæ–¹/ä¸‹æ–¹], å¤šç©ºçº¿=[å¤šç©ºçº¿å€¼] | ä½ç½®: [ä¸Šæ–¹/ä¸‹æ–¹]
  
  ðŸ›¡ï¸ æ”¯æ’‘é˜»åŠ›:
    è¿‘æœŸæ”¯æ’‘: [æ”¯æ’‘ä½]=[æ”¯æ’‘å€¼] | è¿‘æœŸé˜»åŠ›: [é˜»åŠ›ä½]=[é˜»åŠ›å€¼]
  
  ðŸŽ¯ ç»¼åˆä¿¡å·:
    ä¹°å–å»ºè®®: [ä¹°å…¥/å–å‡º/è§‚æœ›ç¬¦å·]
    é£Žé™©ç­‰çº§: [é«˜/ä¸­/ä½Žç¬¦å·]
  
  =================================================================
  ðŸ’¡ æç¤º: [æ€»ç»“æ€§å»ºè®®]
  =================================================================
  ```

### 2. AIå¢žå¼ºåˆ†æž
- **å‡½æ•°**: `get_stock_analysis_with_ai(stock_code)`
- **æ‰©å±•åŠŸèƒ½**: åœ¨æ ‡å‡†æŠ¥å‘ŠåŸºç¡€ä¸Šå¢žåŠ AIç»¼åˆåˆ†æžéƒ¨åˆ†
- **AIåˆ†æžå†…å®¹**:
  - æŠ€æœ¯é¢åˆ†æž
  - çŸ­æœŸè¶‹åŠ¿é¢„æµ‹
  - æ“ä½œå»ºè®®
  - é£Žé™©æç¤º

### 3. æ‰¹é‡åˆ†æž
- æ”¯æŒå¤šè‚¡ç¥¨åŒæ—¶åˆ†æž
- è¿”å›žåˆ†æžç»“æžœå­—å…¸

## ðŸŽ¯ å…³é”®ç‰¹æ€§

### 1. BBIæ›¿ä»£RSI
- é¡¹ç›®å·²å°†RSIæŒ‡æ ‡æ›¿æ¢ä¸ºBBIæŒ‡æ ‡
- BBIæ˜¾ç¤ºå½“å‰ä»·æ ¼ç›¸å¯¹äºŽBBIçš„ä½ç½®ï¼ˆä¸Šæ–¹/ä¸‹æ–¹ï¼‰
- æ˜¾ç¤ºå¤šå¤´/ç©ºå¤´çŠ¶æ€

### 2. æ™ºèƒ½æ”¯æ’‘é˜»åŠ›åˆ¤æ–­
- è·Œå¹…è¾ƒå¤§è‚¡ç¥¨ï¼ˆè·Œå¹…>5%ï¼‰ï¼šæ”¯æ’‘ä¸ºMA20ï¼Œé˜»åŠ›ä¸ºå¼€ç›˜ä»·
- æ¶¨å¹…è¾ƒå¤§è‚¡ç¥¨ï¼ˆæ¶¨å¹…>5%ï¼‰ï¼šæ”¯æ’‘ä¸ºMA5ï¼Œé˜»åŠ›ä¸ºå½“æ—¥æœ€é«˜ä»·
- éœ‡è¡è‚¡ç¥¨ï¼ˆæ¶¨è·Œå¹…â‰¤2%ï¼‰ï¼šæ”¯æ’‘ä¸ºMA20ï¼Œé˜»åŠ›ä¸ºMA10

### 3. å¤šé‡ä¹°å–ä¿¡å·
- KDJé‡‘å‰/æ­»å‰ä¿¡å·
- MACDå¤šå¤´/ç©ºå¤´ä¿¡å·
- ä»·æ ¼çªç ´çŸ¥è¡Œè¶‹åŠ¿çº¿ä¿¡å·
- ç»¼åˆä¹°å–å»ºè®®ç”Ÿæˆ

### 4. é£Žé™©ç­‰çº§è¯„ä¼°
- é«˜é£Žé™©ï¼šæ¶¨è·Œå¹…>5%
- ä¸­é£Žé™©ï¼š2%<æ¶¨è·Œå¹…â‰¤5%
- ä½Žé£Žé™©ï¼šæ¶¨è·Œå¹…â‰¤2%

## ðŸ”Œ APIä¾èµ–

### 1. æ•°æ®æº
- è…¾è®¯è´¢ç»APIï¼ˆæ— éœ€APIå¯†é’¥ï¼‰

### 2. AIåˆ†æžï¼ˆå¯é€‰ï¼‰
- DeepSeek APIï¼ˆéœ€é…ç½®DEEPSEEK_API_KEYï¼‰
- Google Gemini APIï¼ˆéœ€é…ç½®GEMINI_API_KEYï¼‰
- OpenAIå…¼å®¹APIï¼ˆéœ€é…ç½®OPENAI_API_KEYï¼‰

## ðŸ“ ä½¿ç”¨æ–¹æ³•

### 1. æ ‡å‡†åˆ†æž
```python
from skills.stock_analysis_skill import get_stock_analysis
report = get_stock_analysis('600916')  # ä¸­å›½é»„é‡‘
```

### 2. AIå¢žå¼ºåˆ†æž
```python
from skills.stock_analysis_skill import get_stock_analysis_with_ai
report = get_stock_analysis_with_ai('600916')  # éœ€é…ç½®APIå¯†é’¥
```

### 3. æ‰¹é‡åˆ†æž
```python
from skills.stock_analysis_skill import get_multiple_stock_analysis
reports = get_multiple_stock_analysis(['600916', '601288'])  # å¤šè‚¡ç¥¨
```

## ðŸ§© æ‰©å±•èƒ½åŠ›

### 1. æ¨¡æ¿å®šåˆ¶
- å½“å‰æ¨¡æ¿å·²å›ºå®šï¼ˆBBIæ›¿ä»£RSIï¼‰
- å¯é€šè¿‡ä¿®æ”¹æŠ€èƒ½æ¨¡å—è°ƒæ•´è¾“å‡ºæ ¼å¼

### 2. æ–°å¢žæŠ€æœ¯æŒ‡æ ‡
- åœ¨technical_indicators.pyä¸­æ·»åŠ æ–°çš„æŒ‡æ ‡è®¡ç®—å‡½æ•°
- åœ¨æŠ€èƒ½æ¨¡å—ä¸­é›†æˆæ–°æŒ‡æ ‡æ˜¾ç¤º

### 3. æ–°å¢žAIæ¨¡åž‹
- åœ¨analyzer.pyä¸­æ·»åŠ æ–°çš„AIåˆ†æžå™¨ç±»
- ç»§æ‰¿BaseAIAnalyzeræŽ¥å£
- åœ¨CombinedAnalyzerä¸­æ³¨å†Œæ–°æ¨¡åž‹

## ðŸš€ é¡¹ç›®ä¼˜åŠ¿

1. **æ¨¡å—åŒ–è®¾è®¡**: å„åŠŸèƒ½æ¨¡å—èŒè´£æ˜Žç¡®ï¼Œæ˜“äºŽç»´æŠ¤
2. **çµæ´»æ‰©å±•**: æ”¯æŒå¤šç§AIæ¨¡åž‹å’Œæ•°æ®æº
3. **æ ‡å‡†åŒ–è¾“å‡º**: ç»Ÿä¸€çš„æŠ¥å‘Šæ ¼å¼ï¼Œä¾¿äºŽæ¶ˆè´¹
4. **æ™ºèƒ½åˆ†æž**: ç»“åˆä¼ ç»ŸæŠ€æœ¯æŒ‡æ ‡å’ŒAIåˆ†æž
5. **BBIä¼˜åŒ–**: ä½¿ç”¨BBIæŒ‡æ ‡æ›¿ä»£RSIï¼Œé€‚åº”å½“å‰å¸‚åœº